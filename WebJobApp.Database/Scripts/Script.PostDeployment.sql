-- Script.PostDeployment.sql

------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
-- Post-Deployment Script Template
--
-- This file contains SQL statements that will be appended to the build script.
-- Use SQLCMD syntax to include a file in the post-deployment script.
-- Example:      :r .\myfile.sql
-- Use SQLCMD syntax to reference a variable in the post-deployment script.
-- Example:      :setvar TableName MyTable
--              SELECT * FROM [$(TableName)]
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------

PRINT 'Start of Post-Deployment Script.'
PRINT 'DatabaseName:    $(DatabaseName)'
PRINT 'Environment:     $(Environment)'
PRINT 'DeploySeedData:  $(DeploySeedData)'
PRINT ''
GO



------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
-- Custom Post-Deployment operations...
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------

USE [$(DatabaseName)]
GO

------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
-- Seed Data Scripts...
--
-- Note:
--  Some Seed Data scripts have foreign key dependencies with other Seed Data scripts
--  so they are organized into groups.
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------

USE [$(DatabaseName)]
GO

IF ('$(DeploySeedData)' = 'YES')
BEGIN
    PRINT 'Executing Seed Data Scripts...'
    PRINT ''


    :r .\SeedData\Script.SeedData.BackgroundJobType.sql

    PRINT 'Done Executing Seed Data Scripts...'
    PRINT ''
END
GO



------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
-- The End.
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------

PRINT 'End of Post-Deployment Script.'
PRINT ''
GO

